{% extends "backoffice/backoffice.html" %}

{% block main %}
<div class="container my-4">
    <h2>Dettaglio Immagine</h2>

    <!-- Visualizza immagine intera -->
    <div class="text-center my-3">
        <img src="{{ image.image.url }}" alt="Immagine prodotto" class="img-fluid" style="max-width: 100%;">
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="mb-3">
            <label for="id_product" class="form-label">Prodotto associato:</label>
            {{ form.product }}
        </div>

        <div class="form-check mb-3">
            {{ form.is_primary }}
            <label class="form-check-label" for="id_is_primary">Imposta come primaria</label>
        </div>

        <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-dark">Salva Modifiche</button>
            <button type="submit" name="delete_image" class="btn btn-danger"
                onclick="return confirm('Sei sicuro di voler eliminare questa immagine?');">
                Elimina Immagine
            </button>
        </div>
    </form>

    <div class="mt-3">
        <a href="{% url 'warehouse:product_detail' image.product.id %}" class="btn btn-secondary">Torna al prodotto</a>
    </div>
</div>
{% endblock %}
